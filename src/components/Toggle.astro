<wrapper-element>
  <slot name="trigger" />
</wrapper-element>
<slot />

<script>
  customElements.define(
    "wrapper-element",
    class extends HTMLElement {
      constructor() {
        super();
        const self = document.querySelector("wrapper-element");
        let visible = false;
        self?.addEventListener("click", () => {
          visible = !visible;
          const node = document.querySelector(".toggle-content") as HTMLElement;
          if (node) node.style.display = visible ? "block" : "none";
        });

        window.addEventListener("resize", () => {
          const node = document.querySelector(".toggle-content") as HTMLElement;
          const width = window.innerWidth;
          if (width >= 768) {
            if (node) node.style.display = "flex";
          } else {
            if (node) node.style.display = "none";
          }
        });
      }
    }
  );
</script>
